import aja from 'aja';

export const UPDATE_FIELD_VALUE = 'UPDATE_FIELD_VALUE';
export const GOT_ITEM = 'GOT_COLLECTION_ITEMS';
export const SAVE_FORM = 'SAVE_FORM';
export const SET_INITIAL_ITEM = 'SET_INITIAL_ITEM';

export function setInitialItem(page_name) {
  return {
    type: SET_INITIAL_ITEM,
    page_name
  };
}

export function saveForm(page_name) {
  return {
    type: SAVE_FORM,
    page_name
  };
}

export function updateFieldValue(path, field_value, page_name) {
  return {
    type: UPDATE_FIELD_VALUE,
    path,
    field_value,
    page_name
  };
}

function gotItem(item, page_name) {
  return {
    type: GOT_ITEM,
    item,
    page_name
  };
}

function fetchItem(collection, item_id) {

  let item =
      {"name":"ACCS_INTERNET_EN_TRS_HAUT_DBIT","technical_name":"Ultra Haut Debit","key":"ACCS_INTERNET_EN_TRS_HAUT_DBIT","provisioning":[""],"options":{"OPTION_FACTURE_PAPIER":{"name":"Option facture papier","parameters":[],"vti_name":"Facture papier","price":"8.33334","invoice_type":"miscellaneous","included":0,"erp_account":"706121_DMOAMTM","limited_access":0,"display_order":42,"vat_type":"mobile","properties":"","invoice_label":"Facture papier","tech_name":null,"type":"commercial"},"OPTION_FACTURE_PAPIER_PRO":{"name":"Option facture papier Pro","parameters":[],"vti_name":"Facture papier gratuite Pro","price":"0","invoice_type":"miscellaneous","included":0,"erp_account":"706121_DMOAMTM","limited_access":0,"display_order":42,"vat_type":"mobile","properties":"","invoice_label":"Facture papier","tech_name":null,"type":"commercial"},"TELEPHONIE_ILLIMITEE":{"name":"Telephonie Illimitee","tech_name":"VOIP Number","parameters":[],"vti_name":"T\u00e9l\u00e9phonie Illimit\u00e9e","excludes":["VOIP_NUMBER"],"price":"0","invoice_type":"voip","included":1,"display_in":{"all":["SUB","EDIT"]},"erp_account":"","limited_access":0,"display_order":98,"vat_type":"voip","properties":"","invoice_label":"T\u00e9l\u00e9phonie Illimit\u00e9e Monaco \/ France","provisioning":{"POM_TAG":"IRNACC","OBJECT_NAME":["accessInternetVoips","voipAccess"],"ACTIONS":["PURCHASE","MIGRATION","CANCEL"],"PARAMETERS":"","GROUPING":""},"type":"commercial"},"APPELS_ILLIMITE_VOICE_DE_MONACO_VERS_MONACOFRANCE_FIXE_ET_MOBILE":{"name":"Appels illimite (voice) de Monaco vers Monaco\/France Fixe et Mobile","parameters":[],"include":{"call":"UNLIMITED"},"max_usage":{"call":"7200"},"price":"0","invoice_type":"voip","included":1,"display_in":{"all":["SUB","EDIT"]},"erp_account":"","limited_access":0,"display_order":99,"vat_type":"voip","properties":"","invoice_label":"","tech_name":null,"type":"commercial"},"APPELS_ILLIMITES_VOIX_DE_MONACO_VERS_EUROPESUISSEANDORRE_FIXE_ET_MOBILE":{"name":"Appels illimites (voix) de Monaco vers Europe\/Suisse&Andorre Fixe et Mobile","parameters":[],"vti_name":"T\u00e9l\u00e9phonie Illimit\u00e9e Europe","include":{"call":"UNLIMITED"},"max_usage":{"call":"7200"},"price":"12.5","invoice_type":"voip","grouping":"Options Internet \/ T\u00e9l\u00e9phonie illimit\u00e9e","included":0,"display_in":{"all":["SUB","EDIT"]},"erp_account":"706102_DNTVOIP","limited_access":0,"display_order":100,"vat_type":"voip","properties":"","invoice_label":"T\u00e9l\u00e9phonie Illimit\u00e9e Europe","tech_name":null,"type":"commercial"},"LOCATION_TELEPHONE_BASIQUE":{"name":"Location Telephone Basique","parameters":[],"vti_name":"Location T\u00e9l\u00e9phone Basique","price":"1.5","invoice_type":"voip","grouping":"Options Internet \/ T\u00e9l\u00e9phonie illimit\u00e9e","included":0,"display_in":{"all":["SUB","EDIT"]},"erp_account":"706231_DNTDVLT","limited_access":0,"display_order":102,"vat_type":"voip","properties":"","invoice_label":"Location T\u00e9l\u00e9phone Basique","tech_name":null,"type":"commercial"},"LOCATION_TELEPHONE_CLASSIQUE":{"name":"Location Telephone Classique","parameters":[],"vti_name":"Location T\u00e9l\u00e9phone Classique","price":"2.41667","invoice_type":"voip","grouping":"Options Internet \/ T\u00e9l\u00e9phonie illimit\u00e9e","included":0,"display_in":{"all":["SUB","EDIT"]},"erp_account":"706231_DNTDVLT","limited_access":0,"display_order":103,"vat_type":"voip","properties":"","invoice_label":"Location T\u00e9l\u00e9phone Classique","tech_name":null,"type":"commercial"},"LOCATION_TELEPHONE_HAUT_DE_GAMME":{"name":"Location Telephone Haut de Gamme","parameters":[],"vti_name":"Location T\u00e9l\u00e9phone Haut de Gamme","price":"3.75","invoice_type":"voip","grouping":"Options Internet \/ T\u00e9l\u00e9phonie illimit\u00e9e","included":0,"display_in":{"all":["SUB","EDIT"]},"erp_account":"706231_DNTDVLT","limited_access":0,"display_order":104,"vat_type":"voip","properties":"","invoice_label":"Location T\u00e9l\u00e9phone Haut de Gamme","tech_name":null,"type":"commercial"},"ULTRA_HAUT_DEBIT_PRO":{"name":"Ultra Haut Debit Pro","parameters":[],"vti_name":"Ultra Haut Debit Pro","price":"18.31667","invoice_type":"internet","grouping":"Options Internet \/ T\u00e9l\u00e9phonie illimit\u00e9e","included":0,"display_in":{"all":["SUB"]},"erp_account":"706102_DNTDSLR","limited_access":0,"display_order":134,"vat_type":"internet","properties":"","invoice_label":"Ultra Haut Debit Pro","tech_name":null,"type":"commercial"}},"not_billable_options":{"BOX_DOCSIS":{"name":"Box Docsis","tech_name":"Box Internet","parameters":[],"vti_name":"Box Ultra Haut D\u00e9bit","excludes":["BOX_DOCSISTV","BOX_INTERNET"],"price":"","invoice_type":"internet","included":0,"default":1,"display_in":{"all":["SUB","EDIT"]},"erp_account":"706142_DNTDSL9","limited_access":0,"display_order":101,"vat_type":"internet","properties":"","invoice_label":"","provisioning":{"POM_TAG":"IEBOX","OBJECT_NAME":["accessInternetVoips","cpeBox"],"ACTIONS":["PURCHASE","MIGRATION","CANCEL"],"PARAMETERS":"","GROUPING":""},"type":"technical"},"INTERNET_ACCESS":{"name":"Internet Access","tech_name":"Internet Access","parameters":[],"price":"","invoice_type":"internet","included":1,"erp_account":"","limited_access":0,"display_order":107,"vat_type":"internet","properties":"","invoice_label":"","provisioning":{"POM_TAG":"IAXACC","OBJECT_NAME":["accessInternetVoips","access"],"ACTIONS":["PURCHASE","MIGRATION","CANCEL"],"PARAMETERS":"","GROUPING":""},"type":"technical"},"VERY_HIGH_SPEED_PREMIUM":{"name":"Very High speed Premium","tech_name":"Very High speed Premium","parameters":[],"price":"","invoice_type":"internet","included":1,"erp_account":"","limited_access":0,"display_order":108,"vat_type":"internet","properties":"","invoice_label":"","provisioning":{"POM_TAG":"IPXBASIC","OBJECT_NAME":["accessInternetVoips","access"],"ACTIONS":["PURCHASE","MIGRATION","CANCEL"],"PARAMETERS":"","GROUPING":""},"type":"technical"},"ADRESSE_IP_FIXE":{"name":"Adresse IP fixe","tech_name":"Adresse IP fixe","parameters":[],"price":"","invoice_type":"internet","included":1,"display_in":{"all":["SUB","EDIT"]},"erp_account":"","limited_access":0,"display_order":109,"vat_type":"internet","properties":"","invoice_label":"","type":"technical"},"5_EMAILS_1GO_BAL_ACCESS":{"name":"5 emails 1Go (BAL) access","tech_name":"5 emails 1Go (BAL) access","parameters":[],"vti_name":"5 Bo\u00eetes aux lettres GP","price":"","invoice_type":"internet","included":1,"display_in":{"all":["SUB","EDIT"]},"erp_account":"","limited_access":0,"display_order":110,"vat_type":"internet","properties":"","invoice_label":"","provisioning":{"POM_TAG":"BPXACC","OBJECT_NAME":["accessInternetVoips","mailAccess"],"ACTIONS":["MIGRATION","CANCEL"],"PARAMETERS":"","GROUPING":""},"type":"technical"},"1_WIFI_ACCESS":{"name":"1 Wi-Fi access","tech_name":"1 Wi-Fi access","parameters":[],"vti_name":"Acc\u00e8s MC Nomade","price":"","invoice_type":"internet","included":1,"display_in":{"all":["SUB","EDIT"]},"erp_account":"","limited_access":0,"display_order":111,"vat_type":"internet","properties":"","invoice_label":"","provisioning":{"POM_TAG":"WPXACC","OBJECT_NAME":["accessInternetVoips","wifiAccess"],"ACTIONS":["MIGRATION","CANCEL"],"PARAMETERS":"","GROUPING":""},"type":"technical"},"SUSPENSION_CLIENT_VOIP_SERVICE":{"name":"Suspension client  Voip service","tech_name":"Suspension client  Voip service","parameters":[],"vti_name":"Suspension VoIP Origine Client","price":"","invoice_type":"voip","included":0,"erp_account":"","limited_access":0,"display_order":112,"vat_type":"voip","properties":"","invoice_label":"","provisioning":{"POM_TAG":"IUNSUSP","OBJECT_NAME":["accessInternetVoips","voipAccess"],"ACTIONS":["PURCHASE","MIGRATION","CANCEL"],"PARAMETERS":"","GROUPING":""},"type":"technical"},"SUSPENSION_CLIENT_INTERNET_SERVICE":{"name":"Suspension client  Internet service","tech_name":"Suspension client  Internet service","parameters":[],"vti_name":"Suspension internet Origine Client","price":"","invoice_type":"internet","included":0,"erp_account":"","limited_access":0,"display_order":113,"vat_type":"internet","properties":"","invoice_label":"","provisioning":{"POM_TAG":"IUXSUSP","OBJECT_NAME":["accessInternetVoips","cpeBox"],"ACTIONS":["PURCHASE","MIGRATION","CANCEL"],"PARAMETERS":"","GROUPING":""},"type":"technical"},"SUSPENSION_FOR_NONPAYMENT_VOIP_SERVICE":{"name":"Suspension for nonpayment Voip service","tech_name":"Suspension for nonpayment Voip service","parameters":[],"vti_name":"Suspension VoIP Non Paiement","price":"","invoice_type":"voip","grouping":"Restriction","included":0,"display_in":{"all":["EDIT"]},"erp_account":"","limited_access":1,"display_order":63,"vat_type":"voip","properties":"","invoice_label":"","provisioning":{"POM_TAG":"IUNRESTR","OBJECT_NAME":["accessInternetVoips","voipAccess"],"ACTIONS":["PURCHASE","MIGRATION","CANCEL"],"PARAMETERS":"","GROUPING":""},"type":"technical"},"SUSPENSION_FOR_NONPAYMENT_INTERNET_SERVICE":{"name":"Suspension for nonpayment  Internet service","tech_name":"Suspension for nonpayment  Internet service","parameters":[],"vti_name":"Suspension internet Non Paiement","price":"","invoice_type":"internet","grouping":"Restriction","included":0,"display_in":{"all":["EDIT"]},"erp_account":"","limited_access":1,"display_order":64,"vat_type":"internet","properties":"","invoice_label":"","provisioning":{"POM_TAG":"IUXRESTR","OBJECT_NAME":["accessInternetVoips","cpeBox"],"ACTIONS":["PURCHASE","MIGRATION","CANCEL"],"PARAMETERS":"","GROUPING":""},"type":"technical"},"VOICE_MAIL_ACCESS":{"name":"Voice Mail access","tech_name":"Voice Mail access","parameters":[],"price":"","invoice_type":"voip","included":1,"erp_account":"","limited_access":0,"display_order":116,"vat_type":"voip","properties":"","invoice_label":"","provisioning":{"POM_TAG":"VPXACC","OBJECT_NAME":["accessInternetVoips","voipAccess","mevoAccess"],"ACTIONS":["MIGRATION","CANCEL"],"PARAMETERS":"","GROUPING":""},"type":"technical"},"INSTALLATION_BY_CUSTOMER":{"name":"Installation by customer","tech_name":"Installation by customer","parameters":[],"vti_name":"Installation par le client","price":"","invoice_type":"miscellaneous","included":0,"erp_account":"","limited_access":0,"display_order":117,"vat_type":"internet","properties":"","invoice_label":"","provisioning":{"POM_TAG":"CUXINSTALCLI","OBJECT_NAME":"installationDate","ACTIONS":["PURCHASE","MIGRATION","CANCEL"],"PARAMETERS":"","GROUPING":""},"type":"technical"},"CHANGE_CONTRACTOR_REALLOCATION":{"name":"Change contractor reallocation","tech_name":"Change contractor reallocation","parameters":[],"vti_name":"Cession\/Reprise","price":"","invoice_type":"miscellaneous","included":0,"erp_account":"","limited_access":0,"display_order":118,"vat_type":"internet","properties":"","invoice_label":"","provisioning":{"POM_TAG":"CUXCLICTRTRF","OBJECT_NAME":"customer","ACTIONS":["PURCHASE","MIGRATION","CANCEL"],"PARAMETERS":"","GROUPING":""},"type":"technical"},"CUSTOMER":{"name":"Customer","tech_name":"Customer","parameters":[],"vti_name":"Cr\u00e9ation client","price":"","invoice_type":"miscellaneous","included":0,"erp_account":"","limited_access":0,"display_order":119,"vat_type":"internet","properties":"","invoice_label":"","provisioning":{"POM_TAG":"CPXCLI","OBJECT_NAME":"customer","ACTIONS":["PURCHASE","MIGRATION","CANCEL"],"PARAMETERS":"","GROUPING":""},"type":"technical"},"CONTROL_PARENTAL_LICENCE":{"name":"Control Parental licence","tech_name":"Control Parental licence","parameters":[],"vti_name":"Contr\u00f4le parental","price":"","invoice_type":"internet","included":1,"display_in":{"all":["SUB","EDIT"]},"erp_account":"","limited_access":0,"display_order":129,"vat_type":"internet","properties":"","invoice_label":"","provisioning":{"POM_TAG":"IRLICCP","OBJECT_NAME":["accessInternetVoips","licenceAccess"],"ACTIONS":["MIGRATION","CANCEL"],"PARAMETERS":"","GROUPING":""},"type":"technical"}},"price":"41.58334","erp_account":"706102_DNTDSLR","display_order":"8","vat_type":"internet","forceCommitment":false,"invoice_label":"Ultra Haut D\u00e9bit","invoice_type":"internet","from":"2014-01-01T22:00:00+0000","to":"2113-12-31T22:00:00+0000"};
  return dispatch => {
    aja()
      .url(`http://billrun/api/${collection}?query={id: ${item_id}}`)
           .on('success', resp => {
             //dispatch(gotItem(resp.details, collection));
             dispatch(gotItem(item, collection));
           })
           .go();
          };
  }

  export function getCollectionEntity(collection, entity_id) {
    return dispatch => {
      return dispatch(fetchItem(collection, entity_id));
    };
  }
